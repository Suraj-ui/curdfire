(this["webpackJsonpreact-firebase-hooks-crud"]=this["webpackJsonpreact-firebase-hooks-crud"]||[]).push([[0],{30:function(e,t,a){e.exports=a(53)},35:function(e,t,a){},36:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),c=a(27),r=a.n(c),i=(a(35),a(36),a(37),a(18)),o=a(3),s=a(15),u=a(11),m=a(10),d=a(22);a(48);d.initializeApp({apiKey:"AIzaSyC-43Fy1Ohl2irSs0GBypwM5VzEHaU799c",authDomain:"democurd-4fc2b.firebaseapp.com",databaseURL:"https://democurd-4fc2b.firebaseio.com",projectId:"democurd-4fc2b",storageBucket:"democurd-4fc2b.appspot.com",messagingSenderId:"665999741335",appId:"1:665999741335:web:2832cd63a57044d6af34d2"});var b=d.database().ref("/tutorials"),p=function(){return b},f=function(e){return b.push(e)},E=function(e,t){return b.child(e).update(t)},h=function(e){return b.child(e).remove()},v=function(){return b.remove()},g=function(){var e={title:"",description:"",published:!1},t=Object(n.useState)(e),a=Object(m.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(!1),o=Object(m.a)(i,2),d=o[0],b=o[1],p=function(e){var t=e.target,a=t.name,n=t.value;r(Object(u.a)(Object(u.a)({},c),{},Object(s.a)({},a,n)))};return l.a.createElement("div",{className:"submit-form"},d?l.a.createElement("div",null,l.a.createElement("h4",null,"You submitted successfully!"),l.a.createElement("button",{className:"btn btn-success",onClick:function(){r(e),b(!1)}},"Add")):l.a.createElement("div",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"title"},"Title"),l.a.createElement("input",{type:"text",className:"form-control",id:"title",required:!0,value:c.title,onChange:p,name:"title"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"description"},"Description"),l.a.createElement("input",{type:"text",className:"form-control",id:"description",required:!0,value:c.description,onChange:p,name:"description"})),l.a.createElement("button",{onClick:function(){var e={title:c.title,description:c.description,published:!1};f(e).then((function(){b(!0)})).catch((function(e){console.log(e)}))},className:"btn btn-success"},"Submit")))},N=a(28),k=function(e){var t=Object(n.useState)({key:null,title:"",description:"",published:!1}),a=Object(m.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(""),o=Object(m.a)(i,2),d=o[0],b=o[1],p=e.tutorial;c.key!==p.key&&(r(p),b(""));var f=function(e){var t=e.target,a=t.name,n=t.value;r(Object(u.a)(Object(u.a)({},c),{},Object(s.a)({},a,n)))},v=function(e){E(c.key,{published:e}).then((function(){r(Object(u.a)(Object(u.a)({},c),{},{published:e})),b("The status was updated successfully!")})).catch((function(e){console.log(e)}))};return l.a.createElement("div",null,c?l.a.createElement("div",{className:"edit-form"},l.a.createElement("h4",null,"Tutorial"),l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"title"},"Title"),l.a.createElement("input",{type:"text",className:"form-control",id:"title",name:"title",value:c.title,onChange:f})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"description"},"Description"),l.a.createElement("input",{type:"text",className:"form-control",id:"description",name:"description",value:c.description,onChange:f})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement("strong",null,"Status:")),c.published?"Published":"Pending")),c.published?l.a.createElement("button",{className:"badge badge-primary mr-2",onClick:function(){return v(!1)}},"UnPublish"):l.a.createElement("button",{className:"badge badge-primary mr-2",onClick:function(){return v(!0)}},"Publish"),l.a.createElement("button",{className:"badge badge-danger mr-2",onClick:function(){h(c.key).then((function(){e.refreshList()})).catch((function(e){console.log(e)}))}},"Delete"),l.a.createElement("button",{type:"submit",className:"badge badge-success",onClick:function(){var e={title:c.title,description:c.description};E(c.key,e).then((function(){b("The tutorial was updated successfully!")})).catch((function(e){console.log(e)}))}},"Update"),l.a.createElement("p",null,d)):l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("p",null,"Please click on a Tutorial...")))},y=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(-1),i=Object(m.a)(r,2),o=i[0],s=i[1],u=Object(N.a)(p()),d=Object(m.a)(u,3),b=d[0],f=d[1],E=d[2],h=function(){c(null),s(-1)};return l.a.createElement("div",{className:"list row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h4",null,"Tutorials List"),E&&l.a.createElement("strong",null,"Error: ",E),f&&l.a.createElement("span",null,"Loading..."),l.a.createElement("ul",{className:"list-group"},!f&&b&&b.map((function(e,t){return l.a.createElement("li",{className:"list-group-item "+(t===o?"active":""),onClick:function(){return function(e,t){var a=e.val(),n=a.title,l=a.description,r=a.published;c({key:e.key,title:n,description:l,published:r}),s(t)}(e,t)},key:t},e.val().title)}))),l.a.createElement("button",{className:"m-3 btn btn-sm btn-danger",onClick:function(){v().then((function(){h()})).catch((function(e){console.log(e)}))}},"Remove All")),l.a.createElement("div",{className:"col-md-6"},a?l.a.createElement(k,{tutorial:a,refreshList:h}):l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("p",null,"Please click on a Tutorial..."))))},j=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark"},l.a.createElement("a",{href:"/tutorials",className:"navbar-brand"},"SimpleRecord"),l.a.createElement("div",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(i.b,{to:"/tutorials",className:"nav-link"},"List")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(i.b,{to:"/add",className:"nav-link"},"Add")))),l.a.createElement("div",{className:"container mt-3"},l.a.createElement("h2",null,"Do it here."),l.a.createElement(o.c,null,l.a.createElement(o.a,{exact:!0,path:["/","/tutorials"],component:y}),l.a.createElement(o.a,{exact:!0,path:"/add",component:g})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(i.a,null,l.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.59bc2a8f.chunk.js.map